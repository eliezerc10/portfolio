import{r as e,u as s,j as n,E as a}from"./react-vendor-C_6XO5NE.js";import"./i18n-vendor-2nmSCpnI.js";const c=({className:e})=>n.jsx("svg",{className:e,width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polyline",{points:"6 9 12 15 18 9"})}),r=({className:e})=>n.jsxs("svg",{className:e,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),n.jsx("polyline",{points:"15 3 21 3 21 9"}),n.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),i=e.memo((({experience:a,index:i,isExpanded:t,onToggle:l})=>{const{t:o}=s(),d=e.useCallback((()=>{l(i)}),[i,l]),m=e.useCallback((e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),d())}),[d]),h=e=>{if(!a.techPriority){const s=a.techStack.indexOf(e);return s<2?"primary":s<4?"secondary":"tertiary"}const s=a.techPriority.indexOf(e);return-1!==s&&s<3?"primary":-1!==s&&s<6?"secondary":"tertiary"};return n.jsxs("article",{className:"experience-accordion",children:[n.jsxs("div",{className:"timeline-marker",children:[n.jsx("div",{className:"timeline-dot"}),n.jsx("div",{className:"timeline-line"})]}),n.jsxs("div",{className:"accordion-content",children:[n.jsxs("button",{className:"accordion-header "+(t?"expanded":""),onClick:d,onKeyDown:m,"aria-expanded":t,"aria-controls":`experience-panel-${i}`,type:"button",children:[n.jsxs("div",{className:"header-main",children:[n.jsxs("div",{className:"header-info",children:[n.jsx("h3",{className:"role-title",children:a.role}),n.jsxs("div",{className:"meta-info",children:[a.companyUrl?n.jsxs("a",{href:a.companyUrl,target:"_blank",rel:"noopener noreferrer",className:"company-link",onClick:e=>e.stopPropagation(),children:[n.jsx("span",{className:"company-name",children:a.company}),n.jsx(r,{className:"external-icon"})]}):n.jsx("span",{className:"company-name",children:a.company}),n.jsx("span",{className:"period-badge",children:a.period})]})]}),n.jsxs("div",{className:"tech-pills-container",children:[a.techStack.slice(0,5).map(((e,s)=>n.jsx("span",{className:`tech-pill ${h(e)}`,title:e,children:e},`${a.company}-tech-${s}`))),a.techStack.length>5&&n.jsxs("span",{className:"tech-pill more",children:["+",a.techStack.length-5]})]})]}),n.jsxs("div",{className:"accordion-toggle",children:[n.jsx("span",{className:"toggle-text",children:o(t?"experience.accordion.showLess":"experience.accordion.readMore")}),n.jsx(c,{className:"chevron-icon "+(t?"rotated":"")})]})]}),n.jsx("div",{id:`experience-panel-${i}`,className:"accordion-panel "+(t?"expanded":""),role:"region","aria-labelledby":`experience-header-${i}`,children:n.jsxs("div",{className:"panel-content",children:[n.jsx("h4",{className:"achievements-title",children:o("experience.accordion.achievementsTitle")}),n.jsx("ul",{className:"achievements-list",children:a.achievements.map(((e,s)=>n.jsxs("li",{children:[n.jsx("span",{className:"achievement-bullet",children:"â–¸"}),e]},`${a.company}-achievement-${s}`)))}),a.techStack.length>5&&n.jsxs("div",{className:"full-tech-stack",children:[n.jsx("h5",{children:o("experience.accordion.completeTechStack")}),n.jsx("div",{className:"tech-pills-full",children:a.techStack.map(((e,s)=>n.jsx("span",{className:`tech-pill ${h(e)}`,children:e},`${a.company}-tech-full-${s}`)))})]})]})})]})]})}));i.displayName="ExperienceAccordion";const t=e.memo((()=>{const{t:a}=s(),c=e.useMemo((()=>{const e=new Date(2019,10,1),s=new Date;let n=s.getFullYear()-e.getFullYear(),a=s.getMonth()-e.getMonth();return a<0&&(n--,a+=12),{years:n,months:a}}),[]);return n.jsx("div",{className:"work-experience-summary",children:n.jsx("div",{className:"summary-content",children:n.jsxs("div",{className:"summary-text",children:[n.jsx("h3",{className:"summary-title",children:a("experience.summary.title","Total Work Experience")}),n.jsxs("div",{className:"summary-duration",children:[n.jsx("span",{className:"duration-value",children:c.years}),n.jsx("span",{className:"duration-label",children:1===c.years?a("experience.summary.year","Year"):a("experience.summary.years","Years")}),c.months>0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"duration-separator",children:"+"}),n.jsx("span",{className:"duration-value",children:c.months}),n.jsx("span",{className:"duration-label",children:1===c.months?a("experience.summary.month","Month"):a("experience.summary.months","Months")})]})]}),n.jsx("p",{className:"summary-subtitle",children:a("experience.summary.since","Since November 2019")})]})})})}));t.displayName="WorkExperienceSummary";const l=e.memo((()=>{const{t:c}=s(),r=c("experience.experiences",{returnObjects:!0}),[l,o]=e.useState(0),d=e.useRef([]),m=e.useCallback((()=>{const e=document.querySelector(".navbar-nav");return e instanceof HTMLElement?e.offsetHeight:70}),[]),h=e.useCallback(((e,s)=>{const n=d.current[e],a=d.current[s];if(!n||!a)return;const c=n.querySelector(".accordion-panel.expanded");if(!(c&&c instanceof HTMLElement))return;const r=a.getBoundingClientRect().top;c.style.transition="none",c.classList.remove("expanded"),c.offsetHeight;const i=a.getBoundingClientRect().top-r;window.scrollBy(0,i),requestAnimationFrame((()=>{c.style.transition="";const e=m()+72,s=a.getBoundingClientRect().top-e;Math.abs(s)>5&&window.scrollBy({top:s,behavior:"smooth"})}))}),[m]),x=e.useCallback((e=>{o((s=>s===e?null:(null!==s&&s<e?h(s,e):null!==s&&requestAnimationFrame((()=>{const s=d.current[e];if(!s)return;const n=s.getBoundingClientRect(),a=m()+16,c=n.top-a;Math.abs(c)>10&&window.scrollBy({top:c,behavior:"smooth"})})),e)))}),[h,m]);return n.jsx(a,{className:"experience-container",name:"experience",children:n.jsxs("section",{className:"exp-section",children:[n.jsx("h1",{children:c("experience.title")}),n.jsxs("div",{className:"experiences-div",children:[r.map(((e,s)=>n.jsx("div",{ref:e=>{d.current[s]=e},children:n.jsx(i,{experience:e,index:s,isExpanded:l===s,onToggle:x})},`exp-${s}`))),n.jsx(t,{})]})]})})}));export{l as Experience};
