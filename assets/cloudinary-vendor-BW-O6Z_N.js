import{R as U,r as Ve}from"./react-vendor-5BLqC-VU.js";var Mt={},x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$t={exports:{}};(function(e,t){var r=200,i="__lodash_hash_undefined__",s=9007199254740991,a="[object Arguments]",c="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Function]",$="[object GeneratorFunction]",H="[object Map]",zt="[object Number]",gt="[object Object]",Jt="[object Promise]",Ht="[object RegExp]",Y="[object Set]",Yt="[object String]",Wt="[object Symbol]",_t="[object WeakMap]",Kt="[object ArrayBuffer]",W="[object DataView]",Zt="[object Float32Array]",Xt="[object Float64Array]",te="[object Int8Array]",ee="[object Int16Array]",re="[object Int32Array]",ne="[object Uint8Array]",ie="[object Uint8ClampedArray]",se="[object Uint16Array]",oe="[object Uint32Array]",Pr=/[\\^$.*+?()[\]{}|]/g,jr=/\w*$/,Fr=/^\[object .+?Constructor\]$/,Ir=/^(?:0|[1-9]\d*)$/,_={};_[a]=_[c]=_[Kt]=_[W]=_[h]=_[p]=_[Zt]=_[Xt]=_[te]=_[ee]=_[re]=_[H]=_[zt]=_[gt]=_[Ht]=_[Y]=_[Yt]=_[Wt]=_[ne]=_[ie]=_[se]=_[oe]=!0,_[d]=_[g]=_[_t]=!1;var Dr=typeof x=="object"&&x&&x.Object===Object&&x,Qr=typeof self=="object"&&self&&self.Object===Object&&self,S=Dr||Qr||Function("return this")(),ae=t&&!t.nodeType&&t,ue=ae&&!0&&e&&!e.nodeType&&e,kr=ue&&ue.exports===ae;function qr(n,o){return n.set(o[0],o[1]),n}function Ur(n,o){return n.add(o),n}function Br(n,o){for(var u=-1,l=n?n.length:0;++u<l&&o(n[u],u,n)!==!1;);return n}function Gr(n,o){for(var u=-1,l=o.length,y=n.length;++u<l;)n[y+u]=o[u];return n}function ce(n,o,u,l){for(var y=-1,v=n?n.length:0;++y<v;)u=o(u,n[y],y,n);return u}function Nr(n,o){for(var u=-1,l=Array(n);++u<n;)l[u]=o(u);return l}function zr(n,o){return n==null?void 0:n[o]}function le(n){var o=!1;if(n!=null&&typeof n.toString!="function")try{o=!!(n+"")}catch{}return o}function de(n){var o=-1,u=Array(n.size);return n.forEach(function(l,y){u[++o]=[y,l]}),u}function mt(n,o){return function(u){return n(o(u))}}function he(n){var o=-1,u=Array(n.size);return n.forEach(function(l){u[++o]=l}),u}var Jr=Array.prototype,Hr=Function.prototype,K=Object.prototype,yt=S["__core-js_shared__"],fe=function(){var n=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),pe=Hr.toString,M=K.hasOwnProperty,Z=K.toString,Yr=RegExp("^"+pe.call(M).replace(Pr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=kr?S.Buffer:void 0,_e=S.Symbol,me=S.Uint8Array,Wr=mt(Object.getPrototypeOf,Object),Kr=Object.create,Zr=K.propertyIsEnumerable,Xr=Jr.splice,ye=Object.getOwnPropertySymbols,tn=ge?ge.isBuffer:void 0,en=mt(Object.keys,Object),vt=k(S,"DataView"),N=k(S,"Map"),wt=k(S,"Promise"),bt=k(S,"Set"),At=k(S,"WeakMap"),z=k(Object,"create"),rn=L(vt),nn=L(N),sn=L(wt),on=L(bt),an=L(At),ve=_e?_e.prototype:void 0,we=ve?ve.valueOf:void 0;function R(n){var o=-1,u=n?n.length:0;for(this.clear();++o<u;){var l=n[o];this.set(l[0],l[1])}}function un(){this.__data__=z?z(null):{}}function cn(n){return this.has(n)&&delete this.__data__[n]}function ln(n){var o=this.__data__;if(z){var u=o[n];return u===i?void 0:u}return M.call(o,n)?o[n]:void 0}function dn(n){var o=this.__data__;return z?o[n]!==void 0:M.call(o,n)}function hn(n,o){var u=this.__data__;return u[n]=z&&o===void 0?i:o,this}R.prototype.clear=un,R.prototype.delete=cn,R.prototype.get=ln,R.prototype.has=dn,R.prototype.set=hn;function E(n){var o=-1,u=n?n.length:0;for(this.clear();++o<u;){var l=n[o];this.set(l[0],l[1])}}function fn(){this.__data__=[]}function pn(n){var o=this.__data__,u=X(o,n);if(u<0)return!1;var l=o.length-1;return u==l?o.pop():Xr.call(o,u,1),!0}function gn(n){var o=this.__data__,u=X(o,n);return u<0?void 0:o[u][1]}function _n(n){return X(this.__data__,n)>-1}function mn(n,o){var u=this.__data__,l=X(u,n);return l<0?u.push([n,o]):u[l][1]=o,this}E.prototype.clear=fn,E.prototype.delete=pn,E.prototype.get=gn,E.prototype.has=_n,E.prototype.set=mn;function D(n){var o=-1,u=n?n.length:0;for(this.clear();++o<u;){var l=n[o];this.set(l[0],l[1])}}function yn(){this.__data__={hash:new R,map:new(N||E),string:new R}}function vn(n){return tt(this,n).delete(n)}function wn(n){return tt(this,n).get(n)}function bn(n){return tt(this,n).has(n)}function An(n,o){return tt(this,n).set(n,o),this}D.prototype.clear=yn,D.prototype.delete=vn,D.prototype.get=wn,D.prototype.has=bn,D.prototype.set=An;function Q(n){this.__data__=new E(n)}function Tn(){this.__data__=new E}function On(n){return this.__data__.delete(n)}function Sn(n){return this.__data__.get(n)}function En(n){return this.__data__.has(n)}function Cn(n,o){var u=this.__data__;if(u instanceof E){var l=u.__data__;if(!N||l.length<r-1)return l.push([n,o]),this;u=this.__data__=new D(l)}return u.set(n,o),this}Q.prototype.clear=Tn,Q.prototype.delete=On,Q.prototype.get=Sn,Q.prototype.has=En,Q.prototype.set=Cn;function Mn(n,o){var u=St(n)||Zn(n)?Nr(n.length,String):[],l=u.length,y=!!l;for(var v in n)M.call(n,v)&&!(y&&(v=="length"||Hn(v,l)))&&u.push(v);return u}function be(n,o,u){var l=n[o];(!(M.call(n,o)&&Se(l,u))||u===void 0&&!(o in n))&&(n[o]=u)}function X(n,o){for(var u=n.length;u--;)if(Se(n[u][0],o))return u;return-1}function xn(n,o){return n&&Ae(o,Et(o),n)}function Tt(n,o,u,l,y,v,C){var w;if(l&&(w=v?l(n,y,v,C):l(n)),w!==void 0)return w;if(!et(n))return n;var Me=St(n);if(Me){if(w=Nn(n),!o)return Un(n,w)}else{var q=V(n),xe=q==g||q==$;if(ti(n))return jn(n,o);if(q==gt||q==a||xe&&!v){if(le(n))return v?n:{};if(w=zn(xe?{}:n),!o)return Bn(n,xn(w,n))}else{if(!_[q])return v?n:{};w=Jn(n,q,Tt,o)}}C||(C=new Q);var $e=C.get(n);if($e)return $e;if(C.set(n,w),!Me)var Re=u?Gn(n):Et(n);return Br(Re||n,function(Ct,rt){Re&&(rt=Ct,Ct=n[rt]),be(w,rt,Tt(Ct,o,u,l,rt,n,C))}),w}function $n(n){return et(n)?Kr(n):{}}function Rn(n,o,u){var l=o(n);return St(n)?l:Gr(l,u(n))}function Vn(n){return Z.call(n)}function Ln(n){if(!et(n)||Wn(n))return!1;var o=Ce(n)||le(n)?Yr:Fr;return o.test(L(n))}function Pn(n){if(!Oe(n))return en(n);var o=[];for(var u in Object(n))M.call(n,u)&&u!="constructor"&&o.push(u);return o}function jn(n,o){if(o)return n.slice();var u=new n.constructor(n.length);return n.copy(u),u}function Ot(n){var o=new n.constructor(n.byteLength);return new me(o).set(new me(n)),o}function Fn(n,o){var u=o?Ot(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}function In(n,o,u){var l=o?u(de(n),!0):de(n);return ce(l,qr,new n.constructor)}function Dn(n){var o=new n.constructor(n.source,jr.exec(n));return o.lastIndex=n.lastIndex,o}function Qn(n,o,u){var l=o?u(he(n),!0):he(n);return ce(l,Ur,new n.constructor)}function kn(n){return we?Object(we.call(n)):{}}function qn(n,o){var u=o?Ot(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}function Un(n,o){var u=-1,l=n.length;for(o||(o=Array(l));++u<l;)o[u]=n[u];return o}function Ae(n,o,u,l){u||(u={});for(var y=-1,v=o.length;++y<v;){var C=o[y],w=void 0;be(u,C,w===void 0?n[C]:w)}return u}function Bn(n,o){return Ae(n,Te(n),o)}function Gn(n){return Rn(n,Et,Te)}function tt(n,o){var u=n.__data__;return Yn(o)?u[typeof o=="string"?"string":"hash"]:u.map}function k(n,o){var u=zr(n,o);return Ln(u)?u:void 0}var Te=ye?mt(ye,Object):ni,V=Vn;(vt&&V(new vt(new ArrayBuffer(1)))!=W||N&&V(new N)!=H||wt&&V(wt.resolve())!=Jt||bt&&V(new bt)!=Y||At&&V(new At)!=_t)&&(V=function(n){var o=Z.call(n),u=o==gt?n.constructor:void 0,l=u?L(u):void 0;if(l)switch(l){case rn:return W;case nn:return H;case sn:return Jt;case on:return Y;case an:return _t}return o});function Nn(n){var o=n.length,u=n.constructor(o);return o&&typeof n[0]=="string"&&M.call(n,"index")&&(u.index=n.index,u.input=n.input),u}function zn(n){return typeof n.constructor=="function"&&!Oe(n)?$n(Wr(n)):{}}function Jn(n,o,u,l){var y=n.constructor;switch(o){case Kt:return Ot(n);case h:case p:return new y(+n);case W:return Fn(n,l);case Zt:case Xt:case te:case ee:case re:case ne:case ie:case se:case oe:return qn(n,l);case H:return In(n,l,u);case zt:case Yt:return new y(n);case Ht:return Dn(n);case Y:return Qn(n,l,u);case Wt:return kn(n)}}function Hn(n,o){return o=o??s,!!o&&(typeof n=="number"||Ir.test(n))&&n>-1&&n%1==0&&n<o}function Yn(n){var o=typeof n;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?n!=="__proto__":n===null}function Wn(n){return!!fe&&fe in n}function Oe(n){var o=n&&n.constructor,u=typeof o=="function"&&o.prototype||K;return n===u}function L(n){if(n!=null){try{return pe.call(n)}catch{}try{return n+""}catch{}}return""}function Kn(n){return Tt(n,!0,!0)}function Se(n,o){return n===o||n!==n&&o!==o}function Zn(n){return Xn(n)&&M.call(n,"callee")&&(!Zr.call(n,"callee")||Z.call(n)==a)}var St=Array.isArray;function Ee(n){return n!=null&&ei(n.length)&&!Ce(n)}function Xn(n){return ri(n)&&Ee(n)}var ti=tn||ii;function Ce(n){var o=et(n)?Z.call(n):"";return o==g||o==$}function ei(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=s}function et(n){var o=typeof n;return!!n&&(o=="object"||o=="function")}function ri(n){return!!n&&typeof n=="object"}function Et(n){return Ee(n)?Mn(n):Pn(n)}function ni(){return[]}function ii(){return!1}e.exports=Kn})($t,$t.exports);var P=$t.exports,nt=function(){return nt=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},nt.apply(this,arguments)};function si(e,t,r,i){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function h(g){try{d(i.next(g))}catch($){c($)}}function p(g){try{d(i.throw(g))}catch($){c($)}}function d(g){g.done?a(g.value):s(g.value).then(h,p)}d((i=i.apply(e,[])).next())})}function oi(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(g){return p([d,g])}}function p(d){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(r=0)),r;)try{if(i=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(g){d=[6,g],s=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function it(e,t,r,i,s){return si(this,void 0,void 0,function(){var a,c;return oi(this,function(h){switch(h.label){case 0:if(r===void 0)return[2];c=0,h.label=1;case 1:return c<r.length?[4,r[c](e,t,i,s,r)]:[3,4];case 2:if(a=h.sent(),a==="canceled")return[3,4];h.label=3;case 3:return c++,[3,1];case 4:return a!=="canceled"?[2,a]:[2]}})})}var Le=function(e,t){return t===void 0&&(t={}),e?{trackedAnalytics:nt(nt({sdkCode:e.sdkCode,sdkSemver:e.sdkSemver,techVersion:e.techVersion},e.product!==void 0&&{product:e.product}),t)}:null},ai=function(){function e(t,r,i,s){var a=this;this.isMounted=!0,this.imgElement=t,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var c=P(r);it(t,c,i,this.htmlPluginState,s).then(function(h){if(a.isMounted){a.htmlPluginState.pluginEventSubscription.forEach(function(d){d()});var p=Le(s,h);a.imgElement.setAttribute("src",c.toURL(p))}})}return e.prototype.update=function(t,r,i){var s=this,a=P(t);it(this.imgElement,a,r,this.htmlPluginState).then(function(c){if(s.isMounted){var h=Le(i,c);s.imgElement.setAttribute("src",a.toURL(h))}})},e.prototype.unmount=function(){this.isMounted=!1},e}();let m=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}},ui=class extends Error{constructor(t="Unsupported"){super(t)}};function Lt(e){return new ui(e)}function ci(){return this._qualifierModel||{error:Lt(`unsupported qualifier ${this.constructor.name}`)}}let li=class{constructor(){this._qualifierModel={}}toJson(){return ci.apply(this)}},f=class extends li{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof m?this.qualifierValue=r:(this.qualifierValue=new m,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:i}=this;return`${t}${r}${i.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}},b=class extends f{constructor(t,r){let i;r?i=new m([t,`${r}`]).setDelimiter(":"):i=t,super("fl",i),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function di(e,t){const r=Array.from(e.entries());return t.forEach(i=>{r.push(["fl",i])}),r.sort().map(i=>i[1])}function hi(){var e,t,r;const i=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:i?this._actionModel:{error:Lt(`unsupported action ${this.constructor.name}`)}}let fi=class{constructor(){this._actionModel={}}toJson(){return hi.apply(this)}},O=class extends fi{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),di(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,i]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new b(i)):this.qualifiers.set(r,new f(r,i))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new b(t)):t instanceof b&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};class Pt extends O{constructor(t){super(),this.regionType=t,this._actionModel.regionType=t}}class ut extends Pt{constructor(){super("custom")}x(t){return this._actionModel.x=t,this.addQualifier(new f("x",t)),this}y(t){return this._actionModel.y=t,this.addQualifier(new f("y",t)),this}width(t){return this._actionModel.width=t,this.addQualifier(new f("w",t)),this}height(t){return this._actionModel.height=t,this.addQualifier(new f("h",t)),this}static fromJson(t){const r=new ut;return t.width&&r.width(t.width),t.height&&r.height(t.height),t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function pi(){return new ut}function Ye(){return new Pt("faces")}function gi(){return new Pt("ocr_text")}class _i extends O{constructor(t){super(),this._actionModel={},this._strength=t,this._actionModel.actionType="blur",this._actionModel.strength=t}region(t){return this._region=t,this._actionModel.region=t.toJson(),this}strength(t){return this._strength=t,this._actionModel.strength=t,this}prepareQualifiers(){const t=this._strength?`:${this._strength}`:"";"_region"in this?(this._region.qualifiers.forEach(i=>this.addQualifier(i)),this._region.regionType==="custom"&&this.addQualifier(new f("e",`blur_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new f("e",`blur_region${t}`)),this.addQualifier(new f("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new f("e",`blur_faces${t}`))):this.addQualifier(new f("e",`blur${t}`))}static fromJson(t){const{strength:r,region:i}=t,s=new this(r);return r&&s.strength(r),i&&i.regionType==="faces"&&s.region(Ye()),i&&i.regionType==="ocr_text"&&s.region(gi()),i&&i.regionType==="custom"&&s.region(ut.fromJson(i)),s}}function F(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const We={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},mi={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},Ke={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Ze={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},yi={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},Xe={444:"CHROMA_444",420:"CHROMA_420"},vi={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},wi=F(Xe);F(vi);const bi=F(We),Ai=F(mi),tr=F(Ke);F(Ze);F(yi);class er extends O{constructor(t,r){super(),this._actionModel={},this._actionModel.actionType=tr[t]||t;const i=this.createEffectQualifier(t,r);this.addQualifier(i)}createEffectQualifier(t,r){let i;return r?i=new m([t,`${r}`]).setDelimiter(":"):i=new m(t),new f("e",i)}static fromJson(t){const{actionType:r,level:i,strength:s}=t,a=Ke[r]||r;return new this(a,i||s)}}class Ti extends er{constructor(t,r){super(t,r),this.LEVEL_NAME="level",this._actionModel={},this.effectType=t,this._actionModel.actionType=tr[t]||t,r&&this.setLevel(r)}setLevel(t){this._actionModel[this.LEVEL_NAME]=t;const r=this.createEffectQualifier(this.effectType,t);return this.addQualifier(r),this}}function ct(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class Oi extends O{constructor(){super(),this._actionModel={},this._actionModel.actionType="vectorize"}numOfColors(t){return this._actionModel.numOfColors=t,this._numOfColors=t,this}detailsLevel(t){return this._actionModel.detailLevel=t,this._detailsLevel=t,this}despeckleLevel(t){return this._actionModel.despeckleLevel=t,this._despeckleLevel=t,this}cornersLevel(t){return this._actionModel.cornersLevel=t,this._cornersLevel=t,this}paths(t){return this._actionModel.paths=t,this._paths=t,this}prepareQualifiers(){let t="vectorize";this._numOfColors&&(t+=`:${new m(`colors:${this._numOfColors}`).toString()}`),this._detailsLevel&&(t+=`:${new m(`detail:${this._detailsLevel}`).toString()}`),this._despeckleLevel&&(t+=`:${new m(`despeckle:${this._despeckleLevel}`).toString()}`),this._paths&&(t+=`:${new m(`paths:${this._paths}`).toString()}`),this._cornersLevel&&(t+=`:${new m(`corners:${this._cornersLevel}`).toString()}`),this.addQualifier(new f("e",t))}static fromJson(t){const{actionType:r,paths:i,cornersLevel:s,despeckleLevel:a,detailLevel:c,numOfColors:h}=t,p=new this;return i&&p.paths(i),s&&p.cornersLevel(s),a&&p.despeckleLevel(a),c&&p.detailsLevel(c),h&&p.numOfColors(h),p}}class Si extends Ti{level(t){return this._actionModel.level=t,this.setLevel(t)}}class Ei extends O{constructor(){super(),this._actionModel={},this._actionModel.actionType="assistColorblind",this.addQualifier(new f("e",new m("assist_colorblind")))}xray(){return this._actionModel.type="xray",this.addQualifier(new f("e",new m(["assist_colorblind","xray"]).setDelimiter(":")))}stripesStrength(t){return this._actionModel.type="stripes",this._actionModel.stripesStrength=t,this.addQualifier(new f("e",new m(["assist_colorblind",t]).setDelimiter(":")))}static fromJson(t){const{actionType:r,type:i,stripesStrength:s}=t,a=new this;return i==="xray"&&a.xray(),i==="stripes"&&s&&a.stripesStrength(s),a}}class Ci extends Si{color(t){return this._actionModel.color=t,this.addQualifier(new f("co",new m(ct(t))))}static fromJson(t){const{actionType:r,level:i,color:s}=t,a=new this(r,i);return s&&a.color(s),a}}class Mi extends O{constructor(t){super(),this._actionModel={},this._squareSize=t,this._actionModel.actionType="pixelate",this._actionModel.squareSize=t}region(t){return this._region=t,this._actionModel.region={regionType:this._region.regionType},this}squareSize(t){return this._squareSize=t,this._actionModel.squareSize=t,this}prepareQualifiers(){const t=this._squareSize?`:${this._squareSize}`:"";"_region"in this?(this._region.qualifiers.forEach(i=>this.addQualifier(i)),this._region.regionType==="custom"&&this.addQualifier(new f("e",`pixelate_region${t}`)),this._region.regionType==="ocr_text"&&(this.addQualifier(new f("e",`pixelate_region${t}`)),this.addQualifier(new f("g","ocr_text"))),this._region.regionType==="faces"&&this.addQualifier(new f("e",`pixelate_faces${t}`))):this.addQualifier(new f("e",`pixelate${t}`))}static fromJson(t){const{region:r,squareSize:i}=t,s=new this(i);return i&&s.squareSize(i),r&&r.regionType==="faces"&&s.region(Ye()),r&&r.regionType==="custom"&&s.region(pi()),s}}const xi=e=>Pi(encodeURIComponent,Vi,Li)(e),$i=/[!'()*~_.-]/g,Ri={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A","~":"%7E",_:"%5F",".":"%2E","-":"%2D"},Vi=e=>e.replace($i,t=>{var r;return(r=Ri[t])!==null&&r!==void 0?r:t}),Li=e=>e.replace(/%20/g," "),Pi=(...e)=>t=>e.reduce((r,i)=>i(r),t);function ji(e){return new _i(e)}function Fi(){return new er("grayscale")}function Pe(e){return new Ci("colorize",e)}function Ii(){return new Oi}function Di(){return new Ei}function Qi(e){return new Mi(e)}let ki=class extends O{constructor(t){super(),this._actionModel={},this.addQualifier(new f("b",new m(ct(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}},je=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:Lt(`unsupported action ${this.constructor.name}`)}}};function qi(e){const t=e;return"error"in t&&!!t.error}function Ui(){return new b("ignore_aspect_ratio")}function Bi(){return new b("lossy")}function Gi(){return new b("preserve_transparency")}function Ni(e){return new b("progressive",e)}function zi(){return new b("region_relative")}function Ji(){return new b("relative")}let jt=class extends m{constructor(t){super(t),this.val=t}getValue(){return this.val}},rr=class extends O{constructor(t,r,i){super(),this._actionModel={};let s;r instanceof jt?s=r.getValue():s=r,this._actionModel.actionType=Ai[t],this._actionModel[i]=s,this.addQualifier(new f(t,r))}},Hi=class extends b{constructor(t){super("progressive",t)}},Rt=class extends rr{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(Bi()),this}progressive(t){return t instanceof Hi?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(Ni(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(Gi()),this}static fromJson(t){const{formatType:r,lossy:i,progressive:s,preserveTransparency:a}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),i&&c.lossy(),a&&c.preserveTransparency(),c}},lt=class nr{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new je(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof nr?this.actions=this.actions.concat(t.actions):this.actions.push(new je(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new Rt("q",t)),this}format(t){return this.addAction(new Rt("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new ki(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new O;let i=t;return typeof t=="string"&&(i=new b(t)),r.addQualifier(i),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const i=r.toJson();if(qi(i))return i;t.push(i)}return{actions:t}}};function Fe(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}let Yi=class extends m{},Wi=class extends O{constructor(t,r,i){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=bi[t]||t,this.addQualifier(new f("c",t)),r&&this.width(r),i&&this.height(i)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new f("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new f("w",t))}aspectRatio(t){if(t instanceof Yi)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new f("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Fe(t),this.addQualifier(new f("ar",Fe(t)));if(t instanceof b)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(Ji())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(zi())}static fromJson(t){const{actionType:r,dimensions:i,relative:s,regionRelative:a}=t,{aspectRatio:c,width:h,height:p}=i,d=We[r]||r,g=new this(d,h,p);return c&&g.aspectRatio(c==="ignore_aspect_ratio"?Ui():c),s&&g.relative(),a&&g.regionRelative(),g}},Ft=class extends f{constructor(t){super("g",new m(t))}};class ir extends Ft{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}}class sr extends Ft{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}}class or extends Ft{constructor(t){super(t)}}function Ki(e){return new or(e)}function ar(...e){const t=[...e];return new sr(t)}function ur(){return new ir}class B extends m{constructor(t){super(),this.name=t}toString(){return this.name}}function Zi(){return new B("ocr_text")}function Xi(e){return e&&`${e}`.split(":")[0]==="auto"}function ts(e){const t=It(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function It(e){return`${e}`.replace("g_","")}function es(e){return{compass:It(e),gravityType:"direction"}}function rs(e){return It(e)==="ocr_text"}function ns(){return{gravityType:"ocr"}}function is(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function ss(e){const r=e.toString().split("_"),i={object:r[0]};return r.length>1&&(r[1]==="avoid"?i.avoid=!0:i.weight=+r[1]),i}function cr(e){let t;const r=e==="auto"?new ir:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(s=>s!=="auto"):t=r.qualifierValue.values.filter(s=>s!=="auto"),{gravityType:"auto",autoFocus:t.map(ss)}}function os(e){const t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,s={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(a=>`${a}`)};if(t){const a=r[r.length-1].values.slice(1),c=ur().autoFocus(...a);s.fallbackGravity=cr(c)}return s}function as(e){const r=e.split(":").map(i=>new B(i));return new sr(r)}function us(e){return ts(e)?es(e):rs(e)?ns():Xi(e)||is(e)?cr(e):os(typeof e=="string"?as(e):e)}class Dt extends m{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){const i=t instanceof B?t:new B(t);return new Dt(i,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}}class lr extends m{constructor(t){super(),this.val=t}toString(){return this.val}}function cs(e){return e.gravityType==="direction"}function ls(e){return e.gravityType==="ocr"}function ds(e){return e.gravityType==="auto"}function hs(e){const{object:t,weight:r,avoid:i}=e,s=new Dt(new B(t));return(r||r===0)&&s.weight(r),i&&s.avoid(),s}function dr(e){const r=(e.autoFocus||[]).map(hs);return ur().autoFocus(...r)}function fs(e){const t=(e.focusOnObjects||[]).map(i=>new B(i)),r=ar(...t);if(e.fallbackGravity){const i=dr(e.fallbackGravity);r.fallbackGravity(i)}return r}function ps(e){return cs(e)?new or(new lr(e.compass)):ls(e)?ar(Zi()):ds(e)?dr(e):fs(e)}class Qt extends Wi{gravity(t){this._actionModel.gravity=us(t);const r=typeof t=="string"?new f("g",t):t;return this.addQualifier(r)}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(ps(t.gravity)),r}}class J extends f{constructor(t){super("b"),t&&this.addValue(t)}}const hr=100,gs=0;class _s extends J{intensity(t){return this.intensityLevel=t,this}brightness(t){return this.brightnessLevel=t,this}toString(){const t=this.intensityLevel!==void 0?`:${this.intensityLevel}`:"",r=this.brightnessLevel!==void 0?this.intensityLevel!==void 0?`:${this.brightnessLevel}`:`:${hr}:${this.brightnessLevel}`:"";return`b_blurred${t}${r}`}}var fr=_s;class kt extends J{constructor(){super(),this._palette=[]}contrast(){return this._contrast=!0,this}palette(...t){return this._palette=t.map(r=>ct(r)),this}}class pr extends kt{toString(){return`
    b_auto:border
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class gr extends kt{gradientColors(t){return this._gradientColors=t,this}gradientDirection(t){return this._gradientDirection=t,this}}class _r extends gr{toString(){return`
    b_auto:border_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class mr extends gr{toString(){return`
    b_auto:predominant_gradient
    ${this._contrast?"_contrast":""}
    ${this._gradientColors?`:${this._gradientColors}`:""}
    ${this._gradientDirection?`:${this._gradientDirection}`:""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class yr extends kt{toString(){return`
    b_auto:predominant
    ${this._contrast?"_contrast":""}
    ${this._palette.length?`:palette_${this._palette.join("_")}`:""}
    `.replace(/\s+/g,"")}}class vr extends J{constructor(){super("gen_fill"),this._backgroundType="generativeFill"}prompt(t){try{this._prompt=decodeURIComponent(t)}catch{this._prompt=t}return this}getPrompt(){return this._prompt}getBackgroundType(){return this._backgroundType}toString(){return`b_gen_fill${this._prompt?`:prompt_${xi(this._prompt)}`:""}`}}function wr(e){return`${e}`.replace("b_","")}function ms(){return{backgroundType:"auto"}}function ys(e){const{intensityLevel:t,brightnessLevel:r}=e,i={backgroundType:"blurred"};return(t||t===0)&&(i.intensity=t),(r||r===0)&&(i.brightness=r),i}function qt(e){const t=e._contrast,r=e._palette,i={backgroundType:""};return t&&(i.contrast=!0),r&&(i.palette=r),i}function vs(e){return Object.assign(Object.assign({},qt(e)),{backgroundType:"border"})}function br(e){const t=e._gradientColors,r=`${e._gradientDirection}`,i=qt(e);return t&&(i.gradientColors=t),r&&(i.gradientDirection=r),i}function ws(e){return Object.assign(Object.assign({},br(e)),{backgroundType:"borderGradient"})}function bs(e){return{backgroundType:"color",color:wr(e)}}function As(e){return Object.assign(Object.assign({},qt(e)),{backgroundType:"predominant"})}function Ts(e){return Object.assign(Object.assign({},br(e)),{backgroundType:"predominantGradient"})}function Os(e){return Object.assign({backgroundType:e.getBackgroundType()},e.getPrompt()?{prompt:e.getPrompt()}:{})}function Ss(e){return wr(e)==="auto"?ms():e instanceof fr?ys(e):e instanceof pr?vs(e):e instanceof _r?ws(e):e instanceof yr?As(e):e instanceof mr?Ts(e):e instanceof vr?Os(e):bs(e)}function Es(){return new jt("svg")}function Ut(){return new jt("auto")}function Ar(){return new pr}function Tr(){return new J("auto")}function Or(){return new _r}function Sr(){return new mr}function Er(){return new yr}function Cr(e){return new J(ct(e))}function Cs(){return new fr}function Mr(){return new vr}const xr={auto:Tr,border:Ar,borderGradient:Or,predominantGradient:Sr,predominant:Er,color:Cr,blurred:Cs,generativeFill:Mr};function Ms(e){const{brightness:t,intensity:r}=e,i=xr.blurred();return i.brightness(t??gs),i.intensity(r??hr),i}function Ie(e,t){const{gradientColors:r,gradientDirection:i,contrast:s,palette:a}=t;return s&&e.contrast(),a&&e.palette(...a),r&&e.gradientColors(+r),i&&e.gradientDirection(i),e}function De(e,t){const{contrast:r,palette:i}=t;return r&&e.contrast(),i&&e.palette(...i),e}function xs(e,t){const{prompt:r}=t;return r&&e.prompt(r),e}function $s(e){const{backgroundType:t}=e;switch(t){case"auto":return Tr();case"blurred":return Ms(e);case"border":return De(Ar(),e);case"borderGradient":return Ie(Or(),e);case"predominant":return De(Er(),e);case"predominantGradient":return Ie(Sr(),e);case"generativeFill":return xs(Mr(),e);default:return Cr(e.color)}}class Rs extends Qt{background(t){return this._actionModel.background=Ss(t),this.addQualifier(t)}offsetX(t){return this._actionModel.x=t,this.addQualifier(new f("x",t))}offsetY(t){return this._actionModel.y=t,this.addQualifier(new f("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.background&&r.background($s(t.background)),t.x&&r.offsetX(t.x),t.y&&r.offsetY(t.y),t.zoom&&r.zoom(t.zoom),r}}class Vs extends Qt{x(t){return this._actionModel.x=t,this.addQualifier(new f("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new f("y",t))}zoom(t){return this._actionModel.zoom=t,this.addQualifier(new f("z",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),t.zoom&&r.zoom(t.zoom),r}}class Ls extends Qt{x(t){return this._actionModel.x=t,this.addQualifier(new f("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new f("y",t))}static fromJson(t){const r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}}function Ps(e,t){return new Vs("crop",e,t)}function js(e,t){return new Ls("fill",e,t)}function Fs(e,t){return new Rs("pad",e,t)}class Is extends rr{constructor(t){super("q",t.toString(),"level")}chromaSubSampling(t){this._actionModel.chromaSubSampling=Xe[t];const r=new m([this._actionModel.level,t]);return r.setDelimiter(":"),this.addQualifier(new f("q",r))}quantization(t){this._actionModel.quantization=t;const r=new m([this._actionModel.level,`qmax_${t}`]).setDelimiter(":");return this.addQualifier(new f("q",r))}static fromJson(t){const{level:r,chromaSubSampling:i,quantization:s}=t,a=Ze[r]||r,c=new this(a);if(i){const h=wi[i.toUpperCase()];h&&c.chromaSubSampling(+h)}return s&&c.quantization(s),c}}function dt(e){return new Rt("f",e)}function ht(e){return new Is(e)}function Ds(){return new lr("north_east")}Pe(70).color("black"),Pe(40).color("white"),Fi(),Di();new lt().effect(Ii()).delivery(ht("auto")).delivery(dt(Es()));new lt().effect(Qi()).delivery(ht("auto")).delivery(dt(Ut()));new lt().effect(ji(2e3)).delivery(ht("auto")).delivery(dt(Ut()));new lt().resize(Fs("iw_div_2").aspectRatio(1).background(xr.auto())).resize(Ps(1,1).gravity(Ki(Ds()))).resize(js().height("ih").width("iw")).delivery(ht("auto")).delivery(dt(Ut()));var Qe={flv:"x-flv","3gp":"3gpp",mov:"quicktime",mpg:"mpeg",avi:"x-msvideo",wmv:"x-ms-wmv",ogv:"ogg",webm:"webm",mp4:"mp4"},ke="?_a=",Qs=function(){function e(t,r,i,s,a,c,h){var p=this;this.mimeType="video",this.mimeSubTypes=Qe,this.videoElement=t,this.originalVideo=r,this.videoOptions=h,this.htmlPluginState={cleanupCallbacks:[],pluginEventSubscription:[]};var d=P(r);it(t,r,s,this.htmlPluginState).then(function(){p.htmlPluginState.pluginEventSubscription.forEach(function(g){g()}),p.setVideoAttributes(a,c),p.handleSourceToVideo(d,i)})}return e.prototype.handleSourceToVideo=function(t,r){var i=this;if(r)this.generateUserSources(t,r);else{var s=["webm","mp4","ogv"];s.forEach(function(a){i.appendSourceTag(P(t),a)})}},e.prototype.generateUserSources=function(t,r){var i=this;r.map(function(s){var a=s.type,c=s.codecs,h=s.transcode;return i.appendSourceTag(P(t).transcode(h),a,i.buildMimeType(a,c))})},e.prototype.appendSourceTag=function(t,r,i){var s,a=document.createElement("source"),c=(s=this.videoOptions)===null||s===void 0?void 0:s.useFetchFormat;c&&t.format(r);var h=t.toURL(),p=h.split(ke),d=p[1]?"".concat(ke).concat(p[1]):"",g=c?"":".".concat(r);a.src="".concat(p[0]).concat(g).concat(d),a.type=i||"video/".concat(Qe[r]||r),this.videoElement.appendChild(a)},e.prototype.buildMimeType=function(t,r){var i="".concat(this.mimeType,"/").concat(this.mimeSubTypes[t]||t);return r&&(i+="; codecs="+(Array.isArray(r)?r.join(", "):r)),i},e.prototype.setVideoAttributes=function(t,r){var i;if(t===void 0&&(t={}),r==="auto"){var s=P(this.originalVideo);t.poster=s.quality("auto").format("jpg").addTransformation("so_auto").toURL()}else r&&(t.poster=(i=r.toURL)===null||i===void 0?void 0:i.call(r));for(var a=0,c=Object.entries(t);a<c.length;a++){var h=c[a],p=h[0],d=h[1];d&&this.videoElement.setAttribute(p,p==="poster"?d:"")}},e.prototype.update=function(t,r,i,s,a){var c=this;if(t!==this.originalVideo){for(var h=this.videoElement.getElementsByTagName("SOURCE");h[0];)h[0].parentNode.removeChild(h[0]);it(this.videoElement,t,i,this.htmlPluginState).then(function(){c.setVideoAttributes(s,a),c.handleSourceToVideo(t,r),c.videoElement.load()})}},e}(),ks=typeof x=="object"&&x&&x.Object===Object&&x,qs=typeof self=="object"&&self&&self.Object===Object&&self;ks||qs||Function("return this")();function Us(){return typeof window<"u"}function Bs(e,t,r){var i=P(t);if(e)for(var s=0;s<e.length;s++){var a=e[s](null,i);if(!a)break}return i.toURL(r?{trackedAnalytics:r}:null)}function st(e){e.cleanupCallbacks.forEach(function(t){t()})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vt=function(e,t){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},Vt(e,t)};function $r(e,t){Vt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var G=function(){return G=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},G.apply(this,arguments)};function Rr(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function Gs(){return typeof process<"u"&&Mt?Mt.CLOUDINARY_SOURCE==="cli"||Mt.CLD_CLI==="true":!1}var qe=Gs(),xt=G({sdkSemver:"1.14.4",techVersion:U.version,sdkCode:qe?"H":"J"},qe&&{product:"B"}),la=function(e){$r(t,e);function t(r){var i=e.call(this,r)||this;return i.imageRef=U.createRef(),i}return t.prototype.componentDidMount=function(){this.htmlLayerInstance=new ai(this.imageRef.current,this.props.cldImg,this.props.plugins,xt)},t.prototype.componentDidUpdate=function(){st(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.update(this.props.cldImg,this.props.plugins,xt)},t.prototype.componentWillUnmount=function(){st(this.htmlLayerInstance.htmlPluginState),this.htmlLayerInstance.unmount()},t.prototype.render=function(){var r=this.props;r.cldImg,r.plugins;var i=Rr(r,["cldImg","plugins"]);if(Us())return U.createElement("img",G({suppressHydrationWarning:!0},i,{ref:this.imageRef}));var s=Bs(this.props.plugins,this.props.cldImg,xt);return U.createElement("img",G({},i,{src:s}))},t}(U.Component),Ns=["controls","loop","muted","poster","preload","autoplay","playsinline"];(function(e){$r(t,e);function t(r){var i=e.call(this,r)||this;return i.videoRef=Ve.createRef(),i.attachRef=i.attachRef.bind(i),i}return t.prototype.componentDidMount=function(){this.htmlVideoLayerInstance=new Qs(this.videoRef&&this.videoRef.current,this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster,{useFetchFormat:this.props.useFetchFormat})},t.prototype.componentDidUpdate=function(){st(this.htmlVideoLayerInstance.htmlPluginState),this.htmlVideoLayerInstance.update(this.props.cldVid,this.props.sources,this.props.plugins,this.getVideoAttributes(),this.props.cldPoster)},t.prototype.componentWillUnmount=function(){st(this.htmlVideoLayerInstance.htmlPluginState)},t.prototype.getVideoAttributes=function(){var r=this,i={};return Ns.forEach(function(s){s in r.props&&(i[s]=r.props[s])}),i},t.prototype.attachRef=function(r){this.videoRef.current=r;var i=this.props.innerRef;i&&(i instanceof Function?i(r):i.current=r)},t.prototype.render=function(){var r=this.props;r.cldVid,r.cldPoster,r.plugins,r.sources,r.innerRef,r.useFetchFormat;var i=Rr(r,["cldVid","cldPoster","plugins","sources","innerRef","useFetchFormat"]);return U.createElement("video",G({},i,{ref:this.attachRef}))},t})(Ve.Component);class j{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}}class zs extends Error{constructor(t="Unsupported"){super(t)}}function Bt(e){return new zs(e)}function Js(){return this._qualifierModel||{error:Bt(`unsupported qualifier ${this.constructor.name}`)}}class Hs{constructor(){this._qualifierModel={}}toJson(){return Js.apply(this)}}class T extends Hs{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof j?this.qualifierValue=r:(this.qualifierValue=new j,this.qualifierValue.addValue(r))}toString(){const{key:t,delimiter:r,qualifierValue:i}=this;return`${t}${r}${i.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}}class A extends T{constructor(t,r){let i;r?i=new j([t,`${r}`]).setDelimiter(":"):i=t,super("fl",i),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function Ys(e,t){const r=Array.from(e.entries());return t.forEach(i=>{r.push(["fl",i])}),r.sort().map(i=>i[1])}function Ws(){var e,t,r;const i=this._actionModel&&Object.keys(this._actionModel).length,s=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return s&&s instanceof Error?{error:s}:i?this._actionModel:{error:Bt(`unsupported action ${this.constructor.name}`)}}class Ks{constructor(){this._actionModel={}}toJson(){return Ws.apply(this)}}class ft extends Ks{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),Ys(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){const[r,i]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new A(i)):this.qualifiers.set(r,new T(r,i))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new A(t)):t instanceof A&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}}function Ue(e){const t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}class Zs extends j{}function Xs(){return new A("ignore_aspect_ratio")}function to(){return new A("lossy")}function eo(){return new A("preserve_transparency")}function ro(e){return new A("progressive",e)}function no(){return new A("region_relative")}function io(){return new A("relative")}function I(e){const t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}const Vr={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},so={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},oo={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},ao={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},uo={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},co={444:"CHROMA_444",420:"CHROMA_420"},lo={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};I(co);I(lo);const ho=I(Vr),fo=I(so);I(oo);I(ao);I(uo);class po extends ft{constructor(t,r,i){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=ho[t]||t,this.addQualifier(new T("c",t)),r&&this.width(r),i&&this.height(i)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new T("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new T("w",t))}aspectRatio(t){if(t instanceof Zs)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new T("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=Ue(t),this.addQualifier(new T("ar",Ue(t)));if(t instanceof A)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(io())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(no())}static fromJson(t){const{actionType:r,dimensions:i,relative:s,regionRelative:a}=t,{aspectRatio:c,width:h,height:p}=i,d=Vr[r]||r,g=new this(d,h,p);return c&&g.aspectRatio(c==="ignore_aspect_ratio"?Xs():c),s&&g.relative(),a&&g.regionRelative(),g}}class go extends T{constructor(t){super("g",new j(t))}}function _o(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}class mo extends j{constructor(t){super(t),this.val=t}getValue(){return this.val}}class yo extends po{liquidRescaling(){return this.addQualifier(new go("liquid"))}}function da(e,t){return new yo("scale",e,t)}class vo extends ft{constructor(t,r,i){super(),this._actionModel={};let s;r instanceof mo?s=r.getValue():s=r,this._actionModel.actionType=fo[t],this._actionModel[i]=s,this.addQualifier(new T(t,r))}}class wo extends A{constructor(t){super("progressive",t)}}class ot extends vo{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(to()),this}progressive(t){return t instanceof wo?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(ro(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(eo()),this}static fromJson(t){const{formatType:r,lossy:i,progressive:s,preserveTransparency:a}=t;let c;return r?c=new this("f",r):c=new this("f"),s&&(s.mode?c.progressive(s.mode):c.progressive()),i&&c.lossy(),a&&c.preserveTransparency(),c}}class bo extends ft{constructor(t){super(),this._actionModel={},this.addQualifier(new T("b",new j(_o(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){const{color:r}=t;return new this(r)}}class Be{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:Bt(`unsupported action ${this.constructor.name}`)}}}function Ao(e){const t=e;return"error"in t&&!!t.error}class pt{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new Be(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof pt?this.actions=this.actions.concat(t.actions):this.actions.push(new Be(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new ot("q",t)),this}format(t){return this.addAction(new ot("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new bo(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){const r=new ft;let i=t;return typeof t=="string"&&(i=new A(t)),r.addQualifier(i),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){const t=[];for(const r of this.actions){const i=r.toJson();if(Ao(i))return i;t.push(i)}return{actions:t}}}function To(e){return!(typeof e!="object"||e instanceof Array)}class Oo{filterOutNonSupportedKeys(t,r){const i=Object.create({});return To(t)?(Object.keys(t).forEach(s=>{r.indexOf(s)>=0?i[s]=t[s]:console.warn("Warning - unsupported key provided to configuration: ",s)}),i):Object.create({})}}const Ge=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class Gt extends Oo{constructor(t){super();const r=this.filterOutNonSupportedKeys(t,Ge);Object.assign(this,{secure:!0},r)}extend(t){const r=this.filterOutNonSupportedKeys(t,Ge);return new Gt(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}}class So extends pt{}class Eo extends pt{}function Co(e){return e.match(/^https?:\//)}function Mo(e){return e.indexOf("/")<0}function xo(e){return e.match(/^v[0-9]+/)}function $o(e,t){const r=t.secure,i=t.privateCdn,s=t.cname,a=t.secureDistribution;return!r&&!s?`http://res.cloudinary.com/${e}`:r&&!a&&i?`https://${e}-res.cloudinary.com`:r&&!a?`https://res.cloudinary.com/${e}`:r&&a&&i?`https://${a}`:r&&a?`https://${a}/${e}`:!r&&s?`http://${s}/${e}`:"ERROR"}function Ro(e){return e||"image"}function Vo(e){return e||"upload"}function Lo(e,t,r){const i=r!==!1;return t?`v${t}`:xo(e)||Co(e)||Mo(e)?"":i?"v1":""}function Nt(e,t,r){let i=t>>0,s=String(r);return e.length>i?String(e):(i=i-e.length,i>s.length&&(s+=Po(s,i/s.length)),s.slice(0,i)+String(e))}function Po(e,t){let r=t,i="";for(;r>0;)i+=e,r--;return i}const jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",at={};let Ne=0;jo.split("").forEach(e=>{let t=Ne.toString(2);t=Nt(t,6,"0"),at[t]=e,Ne++});function Fo(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function Io(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{const r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return Nt(t,2,"0")}).join(".")}function ze(e){let t="";const i=e.split(".").length*6,s=Fo(e),a=Io(s);let h=parseInt(a.split(".").join("")).toString(2);if(h=Nt(h,i,"0"),h.length%6!==0)throw"Version must be smaller than 43.21.26)";return h.match(/.{1,6}/g).forEach(p=>{t+=at[p]}),t}function Do(e){const t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),e.feature&&(t.feature=e.feature),t}const Qo="1.22.0";function ko(e){const[t,r]=e.split("."),i=parseInt(t).toString(2),s=parseInt(r).toString(2),a=i.padStart(6,"0"),c=s.padStart(6,"0");return at[a]+at[c]}function qo(){const e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Uo(e){const t={techVersion:qo(),sdkCode:"T",sdkSemver:Qo.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function Je(e){const t=Uo(e),r=Do(t);try{const i=Bo(r.techVersion),s=ze(r.sdkSemver),a=ze(i),c=ko(r.osVersion),h=r.feature,p=r.sdkCode,{product:d,osType:g}=r;return`D${d}${p}${s}${a}${g}${c}${h}`}catch{return"E"}}function Bo(e){const t=e.split(".");return`${t[0]}.${t[1]}`}const He={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class Go{constructor(t,r={},i){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(i)}setURLConfig(t){return this.urlConfig=new Gt(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){const t=Ro(this.assetType),r=Vo(this.deliveryType),i=!!this.suffix,s=`${t}/${r}`,a=He[`${t}/${r}`],c=this.urlConfig.useRootPath,h=this.urlConfig.shorten;if(c){if(s==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${s} instead`)}if(h&&s==="image/upload")return"iu";if(i){if(a)return a;throw new Error(`URL Suffix only supported for ${Object.keys(He).join(", ")}, Provided: ${s} instead`)}return s}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();const i=$o(this.cloudName,this.urlConfig),s=t?t.toString():"",a=Lo(this.publicID,this.version,this.urlConfig.forceVersion),c=this.publicID;if(typeof t=="string")return[i,this.getResourceType(),this.getSignature(),s,a,c.replace(/,/g,"%2C"),this.suffix].filter(p=>p).join("/");{const h=[encodeURI(i),this.getResourceType(),this.getSignature(),encodeURI(s),a,encodeURI(c).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(g=>g).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),p=this.urlConfig.analytics!==!1&&!c.includes("?");let d="";if(typeof this.urlConfig.queryParams=="object")try{const g=new URLSearchParams(this.urlConfig.queryParams);p&&g.set("_a",Je(r)),d=g.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else d=this.urlConfig.queryParams||"",p&&(d+=`${d.length>0?"&":""}_a=${Je(r)}`);return d?`${h}?${d}`:h}}}class Lr extends Go{constructor(t,r,i,s){super(t,r,i),this.transformation=s}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new ot("q",t)),this}format(t){return this.addAction(new ot("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t==null?void 0:t.trackedAnalytics)}}class No extends Lr{constructor(t,r,i){super(t,r,i,new So)}}class zo extends Lr{constructor(t,r,i){super(t,r,i,new Eo),this.assetType="video"}transcode(t){return this.transformation.transcode(t),this}videoEdit(t){return this.transformation.videoEdit(t),this}}class ha{constructor(t){t&&(this.cloudinaryConfig=t)}image(t){return new No(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(t){return new zo(t,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(t){return this.cloudinaryConfig=t,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}export{la as A,ha as C,da as s};
//# sourceMappingURL=cloudinary-vendor-BW-O6Z_N.js.map
